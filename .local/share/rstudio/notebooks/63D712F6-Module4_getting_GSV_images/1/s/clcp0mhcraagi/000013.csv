"0",""
"0","# Calculate azimuth"
"0","point_azi <- sampled_actual %>%"
"0","  st_sf() %>% "
"0","  mutate(azi = NA)"
"0",""
"0","for (i in 1:nrow(point_azi)){"
"0","  j <- i*2 - 1"
"0","  point_azi[i, ""azi""] <- sampled_azi %>% "
"0","    st_cast(""POINT"") %>% "
"0","    .[j:(j+1)] %>% "
"0","    st_coordinates() %>% "
"0","    as.data.frame() %>% "
"0","    with("
"0","      .[2,] - .[1,]"
"0","    ) %>% "
"0","    with("
"0","      atan2(.[[""X""]], .[[""Y""]])*180/pi"
"0","    )"
"0","}"
