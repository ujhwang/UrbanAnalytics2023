"0","## Using a loop -----------------------------------------------------------------"
"0","# Creating an empty vector of NA. "
"0","# Results will fill this vector"
"0","epsg_id <- 4326 # Edit (9/8/2022): 4326 measures distance in meter. Before the edit, I used 26967."
"0",""
"0","r4all_loop <- vector(""list"", nrow(tract))"
"0",""
"0","# Starting a for-loop"
"0",""
"0","for (i in 1:nrow(tract)){"
"0","  r4all_loop[[i]] <- tract %>% "
"0","    st_transform(crs = epsg_id) %>% "
"0","    st_geometry() %>% "
"0","    .[[i]] %>% "
"0","    get_r(epsg_id = epsg_id)"
"0","}"
"0",""
"0","r4all_loop <- bind_rows(r4all_loop)"
"0",""
"0",""
"0","# Using a functional -----------------------------------------------------------"
"0","# We use a functional (sapply) to apply this custom function to each Census Tract."
"0","r4all_apply <- tract %>%"
"0","  st_geometry() %>% "
"0","  st_transform(crs = epsg_id) %>% "
"0","  lapply(., function(x) get_r(x, epsg_id = epsg_id))"
"0",""
"0","r4all_apply <- bind_rows(r4all_apply)"
"0",""
"0","# Are these two identical?"
"0","identical(r4all_apply, r4all_loop)"
"1","[1]"
"1"," TRUE"
"1","
"
